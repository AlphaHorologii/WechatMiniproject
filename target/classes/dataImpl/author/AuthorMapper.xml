<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.library.data.author.AuthorMapper">
    <!--<insert id="createNewAccount" parameterType="com.example.hotel.po.User" useGeneratedKeys="true" keyProperty="id">-->
        <!--insert into User(email,password,username,phonenumber,credit,usertype)-->
        <!--values(#{email},#{password},#{userName},#{phoneNumber},#{credit},#{userType})-->
    <!--</insert>-->
    <select id="getAuthorByName" resultMap="Author">
        select * from Author where name=#{name}
    </select>
    <select id="getAuthorById" resultMap="Author">
        select * from Author where authorid=#{id}
    </select>
    <!--<update id="updateAccount">-->
        <!--update User set password=#{password},username=#{userName},phonenumber=#{phoneNumber}-->
        <!--where id=#{id}-->
    <!--</update>-->
    <!--<update id="updateAccountCredit">-->
        <!--update USER-->
            <!--set credit=#{credit}-->
            <!--where id=#{id}-->
    <!--</update>-->
    <!--<select id="searchUsers" resultMap="User">-->
        <!--SELECT * FROM User WHERE true-->
        <!--<if test="id!=null">-->
            <!--AND id = #{id}-->
        <!--</if>-->
        <!--<if test="email!=null">-->
            <!--AND email LIKE CONCAT(CONCAT('%', #{email}), '%')-->
        <!--</if>-->
        <!--<if test="userName!=null">-->
            <!--AND username LIKE CONCAT(CONCAT('%', #{userName}), '%')-->
        <!--</if>-->
        <!--<if test="phoneNumber!=null">-->
            <!--AND phoneNumber LIKE CONCAT(#{phoneNumber}, '%')-->
        <!--</if>-->
        <!--<if test="userType!=null">-->
            <!--AND usertype = #{userType}-->
        <!--</if>-->
    <!--</select>-->

    <!--<update id="updateAsMgr">-->
        <!--UPDATE User SET usertype = 'HotelManager' WHERE id=#{id}-->
    <!--</update>-->
    <!--<delete id="deleteUser">-->
        <!--delete from user where id = #{id}-->
    <!--</delete>-->
    <resultMap id="Author" type="com.example.library.po.Author">
        <id column="authorid" property="authorid"></id>
        <result column="name" property="name"></result>
        <result column="country" property="country"></result>
        <result column="intro" property="intro"></result>
        <result column="totalBook" property="totalBook"></result>
    </resultMap>
</mapper>